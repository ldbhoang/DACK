<!DOCTYPE html>
<html ng-app="mainApp">
<head lang="en">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Discuss</title>
	<link href="./discuss/discussStyle.css" rel="stylesheet">
    <script src="./javascript/angular.min.js" type="text/javascript"></script>
    <script src="./javascript/jquery.min.js" type="text/javascript"></script>
    <script src="./javascript/ui-bootstrap-1.3.2.min.js" type="text/javascript"></script>
</head>
<body ng-controller="detailTopicCtrl">
	<div class="container">
		<h2>{{detailTopic.topic}}</h2>
		<span class="btn btn-xs btn-info detailInfo" >{{detailTopic.type}}</span> 
		<h4 class="detailInfo"> || {{detailTopic.emailOwner}}</h4>
		<p class="detailInfo"> - {{detailTopic.datePublish}}</p>
		<div class="list-group" >
			<div class="list-group-item list-group-item-success">
				<p class="list-group-item-text">{{detailTopic.content}}</p>
			</div>
		</div>

		<div class="form-group">
			<div >
				<button class="btn btn-success" data-toggle="modal" data-target="#replyModal">Reply</button>
			</div>
		</div>
		
		<hr/>
		
		<div class="list-group" ng-repeat="answer in detailTopic.answers">
			<div class="list-group-item list-group-item-success discussContent" >			
				<h4 class="list-group-item-heading">{{answer.emailreply}}</h4>
				<p class="list-group-item-text">{{answer.content}} <br/></p>
				<p class="list-group-item-text" style="float:right;">{{answer.datePublish}} <br/></p>
			</div>
			<br/>
		</div>
		
		<form method="get" action="#/discuss">
			<button type="submit" class="btn btn-success">Back to discuss</button>
		</form>
		
		<div class="modal fade" id="replyModal" tabindex="-1" role="dialog" aria-labelledby="replyModalLabel" >
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
						<h4 class="modal-title" id="replyModalLabel">{{detailTopic.topic}}</h4>
					</div>
					<div class="modal-body">
						<form role="form">
							<div class="form-group">
								<label for="message-text" class="control-label">Reply</label>
								<textarea class="form-control" id="message-text" ng-model="reply.Content" rows="5" ></textarea>
							</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
						<button type="button" class="btn btn-success" ng-disabled="!reply.Content" ng-click="Reply()">Reply</button>
					</div>
				</div>
			</div>
		</div>
    </div>

</body>
</html>